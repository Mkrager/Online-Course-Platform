@using OnlineCoursePlatform.App.ViewModels.TestAttempt;
@model TestAttemptViewModel

<div class="test-form">
    <h2>@Model.TestViewModel.Title</h2>

    <form id="testSubmissionForm">
        <input type="hidden" id="attemptId" value="@Model.AttemptId" />

        @for (int i = 0; i < Model.TestViewModel.Questions.Count; i++)
        {
            var question = Model.TestViewModel.Questions[i];
            <div class="question" data-question-id="@question.Id">
                <div class="question-header">
                    <strong>@question.Text</strong>
                </div>

                @for (int j = 0; j < question.Answers.Count; j++)
                {
                    var answer = question.Answers[j];
                    var inputId = $"q{i}_a{j}";

                    <div class="answer">
                        <input type="radio"
                               name="question_@question.Id"
                               id="@inputId"
                               value="@answer.Id" />
                        <label for="@inputId">@answer.Text</label>
                    </div>
                }
            </div>
        }

        <button type="button" id="submitTest" class="btn-submit" onclick="endTest()">End test</button>
    </form>
</div>

<script src="~/js/testAttempt/passTest.js"></script>